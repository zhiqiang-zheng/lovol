(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-255a8407"],{"00d0":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page"},[t("div",{staticClass:"form-container",class:{isCollapse:e.isCollapse}},[t("div",{staticClass:"form-container-inner"},[t("div",{staticClass:"title p-b40"},[t("span",[e._v(e._s(e.title))])]),t("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-row",[e._l(e.formItem,(function(r){return[t("el-col",{staticClass:"grid-content",attrs:{span:8}},[t("el-form-item",{attrs:{label:r.label+"：",prop:r.prop}},["area"===r.prop?t("el-cascader",{attrs:{options:e.options,size:"large",placeholder:"请选择省市区"},on:{change:e.onAreaChange},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):"rating"===r.prop?t("el-rate",{staticClass:"rate-default",attrs:{"disabled-void-icon-class":"el-icon-star-off"},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):"number"===r.type?t("el-input",{attrs:{placeholder:"请输入"+r.label,oninput:"value=value.replace(/[^\\d.]/g,'')"},on:{blur:function(t){return e.inputBlur(t,r.prop)}},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):t("el-input",{attrs:{placeholder:"请输入"+r.label},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}})],1)],1)]}))],2)],1)],1),t("div",{staticClass:"form-btn"},[t("el-button",{staticClass:"btn",attrs:{type:"info"},on:{click:e.onCancel}},[e._v("取消")]),t("el-button",{staticClass:"btn",attrs:{type:"success"},on:{click:e.onConfirm}},[e._v("确定")])],1)])])},n=[],i=t("15fd"),a=t("5530"),s=(t("d3b7"),t("159b"),t("b64b"),t("2f62")),u=t("ef6c"),l=t("7654"),c=["area"],p={name:"serviceProviderAdd",data:function(){var e=function(e,r,t){0===r?t(new Error("请点击评价等级")):t()};return{title:"",ruleForm:{marketingDepartment:"",serviceProvidersNo:"",serviceProvidersName:"",head:"",contactInformation:"",area:"",latitude:"",address:"",longitude:"",rating:"",province:"",city:"",county:""},rules:{marketingDepartment:[{required:!0,message:"请输入市场部",trigger:"blur"}],serviceProvidersNo:[{required:!0,message:"请输入服务商编号",trigger:"blur"}],serviceProvidersName:[{required:!0,message:"请输入服务商名称",trigger:"blur"}],head:[{required:!0,message:"请输入负责人",trigger:"blur"}],contactInformation:[{required:!0,message:"请输入联系方式",trigger:"blur"}],area:[{required:!0,message:"请选择省市区",trigger:"blur"}],latitude:[{type:"number",required:!0,message:"请输入纬度",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],longitude:[{type:"number",required:!0,message:"请输入经度",trigger:"blur"}],rating:[{required:!0,message:"请点击评价等级",trigger:["blur","change"],validator:e}]},formItem:[],options:u["regionData"],confirmType:null}},created:function(){var e=this;if(this.formItem=[{prop:"marketingDepartment",label:"市场部"},{prop:"serviceProvidersNo",label:"服务商编号"},{prop:"serviceProvidersName",label:"服务商名称"},{prop:"head",label:"负责人"},{prop:"contactInformation",label:"联系方式"},{prop:"area",label:"省市区"},{prop:"latitude",label:"纬度",type:"number"},{prop:"address",label:"地址"},{prop:"longitude",label:"经度",type:"number"},{prop:"rating",label:"评价等级"}],this.confirmType=this.$route.query.type,"add"===this.confirmType&&(this.title="新增服务商"),"edit"===this.confirmType){this.title="编辑";var r=window.sessionStorage.getItem("serviceProviderRow");Object.keys(this.ruleForm).forEach((function(t){e.ruleForm[t]=JSON.parse(r)[t]})),this.ruleForm.area=[u["TextToCode"][this.ruleForm.province].code,u["TextToCode"][this.ruleForm.province][this.ruleForm.city].code,u["TextToCode"][this.ruleForm.province][this.ruleForm.city][this.ruleForm.county].code]}},computed:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["sidebar"])),{},{isCollapse:function(){return!this.sidebar.opened}}),methods:{onAreaChange:function(e){this.ruleForm.province=u["CodeToText"][e[0]],this.ruleForm.city=u["CodeToText"][e[1]],this.ruleForm.county=u["CodeToText"][e[2]]},inputBlur:function(e,r){e.target.value&&(this.ruleForm[r]=parseFloat(e.target.value))},onCancel:function(){this.$router.push("/serviceProviderManagement/serviceProviderQuery")},onConfirm:function(){var e=this;this.$refs.ruleForm.validate((function(r){if(console.log("22222-----------\x3e>>>"),console.log(e.ruleForm),!r)return!1;var t=e.ruleForm,o=(t.area,Object(i["a"])(t,c));"add"===e.confirmType&&Object(l["i"])(o).then((function(r){"true"===r.code&&e.$message({type:"success",message:"新增成功"})})),"edit"===e.confirmType&&Object(l["a"])(o).then((function(r){"true"===r.code&&e.$message({type:"success",message:"更新成功"})}))}))}},beforeRouteEnter:function(e,r,t){"edit"===e.query.type&&(e.meta.title="编辑"),t()}},d=p,m=(t("265f"),t("2877")),f=Object(m["a"])(d,o,n,!1,null,"53916601",null);r["default"]=f.exports},"15fd":function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));t("a4d3"),t("b64b");function o(e,r){if(null==e)return{};var t,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}function n(e,r){if(null==e)return{};var t,n,i=o(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}},"265f":function(e,r,t){"use strict";t("a848")},7654:function(e,r,t){"use strict";t.d(r,"b",(function(){return n})),t.d(r,"e",(function(){return i})),t.d(r,"f",(function(){return a})),t.d(r,"i",(function(){return s})),t.d(r,"a",(function(){return u})),t.d(r,"h",(function(){return l})),t.d(r,"g",(function(){return c})),t.d(r,"d",(function(){return p})),t.d(r,"c",(function(){return d}));var o=t("b775");function n(){return Object(o["a"])({url:"/service-providers/query",method:"get"})}function i(e){return Object(o["a"])({url:"/service-providers/pageQuery",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/service-providers/pageQuery",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/service-providers",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/service-providers",method:"put",data:e})}function l(){return Object(o["a"])({url:"/accessory-center/serviceNumOverview",method:"get"})}function c(e){return Object(o["a"])({url:"/service-providers/queryServiceProvidersInfo",method:"get",params:e})}function p(){return Object(o["a"])({url:"/service-providers/get-marketingDepartment",method:"get"})}function d(e){return Object(o["a"])({url:"/service-providers/queryDivide",method:"get",params:e})}},a848:function(e,r,t){}}]);