(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-561c12a9"],{"25f0":function(e,r,t){"use strict";var o=t("6eeb"),l=t("825a"),a=t("d039"),i=t("ad6d"),n="toString",s=RegExp.prototype,c=s[n],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=n;(u||p)&&o(RegExp.prototype,n,(function(){var e=l(this),r=String(e.source),t=e.flags,o=String(void 0===t&&e instanceof RegExp&&!("flags"in s)?i.call(e):t);return"/"+r+"/"+o}),{unsafe:!0})},3027:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page"},[t("div",{staticClass:"form-container",class:{isCollapse:e.isCollapse}},[t("div",{staticClass:"form-container-inner"},[t("div",{staticClass:"title p-b40"},[t("span",[e._v(e._s(e.title))])]),t("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-row",[e._l(e.formItem,(function(r){return[t("el-col",{staticClass:"grid-content",attrs:{span:8}},[t("el-form-item",{attrs:{label:r.label+"：",prop:r.prop}},["area"===r.prop?t("el-cascader",{attrs:{options:e.options,size:"large",placeholder:"请选择省市区",clearable:""},on:{change:e.onAreaChange},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):"skillLevels"===r.prop?t("el-rate",{staticClass:"rate-default",attrs:{"disabled-void-icon-class":"el-icon-star-off"},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):"jobFlag"===r.prop?t("el-radio-group",{attrs:{clearable:""},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}},e._l(r.option,(function(r){return t("el-radio",{attrs:{label:r.label}},[e._v(e._s(r.name))])})),1):"number"===r.type?t("el-input",{attrs:{placeholder:"请输入"+r.label,oninput:"value=value.replace(/[^\\d.]/g,'')",clearable:""},on:{blur:function(t){return e.inputBlur(t,r.prop)}},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}}):t("el-input",{attrs:{placeholder:"请输入"+r.label,clearable:""},model:{value:e.ruleForm[r.prop],callback:function(t){e.$set(e.ruleForm,r.prop,t)},expression:"ruleForm[v.prop]"}})],1)],1)]}))],2)],1)],1),t("div",{staticClass:"form-btn"},[t("el-button",{staticClass:"btn",attrs:{type:"info"},on:{click:e.onCancel}},[e._v("取消")]),t("el-button",{staticClass:"btn",attrs:{type:"success"},on:{click:e.onConfirm}},[e._v("确定")])],1)])])},l=[],a=t("5530"),i=(t("d3b7"),t("159b"),t("b64b"),t("b0c0"),t("25f0"),t("2f62")),n=t("ef6c"),s=t("9bb4"),c={name:"serviceCarAdd",data:function(){var e=function(e,r,t){0===r?t(new Error("请点击技能等级")):t()};return{ruleForm:{serviceId:"",serviceType:"",serviceLicensePlate:"",serviceCompanyName:"",belongMarket:"",serviceCompanyPlace:"",jobNumber:"",name:"",phone:"",area:"",carPlace:"",longitude:null,latitude:null,jobFlag:1,skillLevels:0,serviceNumber:"",province:"",city:"",county:""},rules:{serviceId:[{required:!0,message:"请输入服务车编号",trigger:"blur"}],serviceType:[{required:!0,message:"请输入服务车型号",trigger:"blur"}],serviceLicensePlate:[{required:!0,message:"请输入服务车车牌",trigger:"blur"}],serviceCompanyName:[{required:!0,message:"请输入服务商名称",trigger:"blur"}],belongMarket:[{required:!0,message:"请输入所属市场部",trigger:"blur"}],serviceCompanyPlace:[{required:!0,message:"请输入服务商位置",trigger:"blur"}],jobNumber:[{required:!0,message:"请输入工号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],area:[{required:!0,message:"请选择省市区",trigger:"change"}],carPlace:[{required:!0,message:"请输入车辆位置",trigger:"blur"}],longitude:[{type:"number",required:!0,message:"请输入经度",trigger:"blur"}],latitude:[{type:"number",required:!0,message:"请输入纬度",trigger:"blur"}],jobFlag:[{required:!0,message:"请选择工作状态",trigger:"change"}],skillLevels:[{required:!0,message:"请选择技能等级",trigger:["blur","change"],validator:e}],serviceNumber:[{required:!0,message:"请输入服务数量",trigger:"blur"}]},formItem:[],options:n["regionData"],confirmType:null,title:""}},created:function(){var e=this;if(this.formItem=[{prop:"serviceId",label:"服务车编号"},{prop:"serviceType",label:"服务车型号"},{prop:"serviceLicensePlate",label:"服务车车牌"},{prop:"serviceCompanyName",label:"服务商名称"},{prop:"belongMarket",label:"所属市场部"},{prop:"serviceCompanyPlace",label:"服务商位置"},{prop:"jobNumber",label:"工号"},{prop:"name",label:"姓名"},{prop:"phone",label:"联系方式"},{prop:"area",label:"省市区"},{prop:"carPlace",label:"车辆位置"},{prop:"longitude",label:"经度",type:"number"},{prop:"latitude",label:"纬度",type:"number"},{prop:"jobFlag",label:"工作状态",option:[{label:1,name:"是"},{label:0,name:"否"}]},{prop:"skillLevels",label:"技能等级"},{prop:"serviceNumber",label:"服务数量"}],this.confirmType=this.$route.query.type,"add"===this.confirmType&&(this.title="新增服务车"),"edit"===this.confirmType){this.title="编辑";var r=window.sessionStorage.getItem("serviceCarRow");Object.keys(this.ruleForm).forEach((function(t){e.ruleForm[t]=JSON.parse(r)[t]})),this.ruleForm.area=[n["TextToCode"][this.ruleForm.province].code,n["TextToCode"][this.ruleForm.province][this.ruleForm.city].code,n["TextToCode"][this.ruleForm.province][this.ruleForm.city][this.ruleForm.county].code]}},computed:Object(a["a"])(Object(a["a"])({},Object(i["b"])(["sidebar"])),{},{isCollapse:function(){return!this.sidebar.opened}}),methods:{onAreaChange:function(e){this.ruleForm.province=n["CodeToText"][e[0]],this.ruleForm.city=n["CodeToText"][e[1]],this.ruleForm.county=n["CodeToText"][e[2]]},inputBlur:function(e,r){e.target.value&&(this.ruleForm[r]=parseFloat(e.target.value))},onCancel:function(){this.$router.push("/serviceCarManagement/serviceCarQuery")},onConfirm:function(){var e=this;this.$refs.ruleForm.validate((function(r){if(console.log("22222-----------\x3e>>>"),console.log(e.ruleForm),!r)return!1;var t={belongMarket:e.ruleForm.belongMarket,carPlace:e.ruleForm.carPlace,city:e.ruleForm.city,county:e.ruleForm.county,id:0,jobFlag:e.ruleForm.jobFlag,jobNumber:e.ruleForm.jobNumber,latitude:e.ruleForm.latitude,longitude:e.ruleForm.longitude,name:e.ruleForm.name,phone:e.ruleForm.phone,province:e.ruleForm.province,seq:"",serviceCompanyName:e.ruleForm.serviceCompanyName,serviceCompanyPlace:e.ruleForm.serviceCompanyPlace,serviceId:e.ruleForm.serviceId,serviceLicensePlate:e.ruleForm.serviceLicensePlate,serviceNumber:e.ruleForm.serviceNumber,serviceType:e.ruleForm.serviceType,skillLevels:e.ruleForm.skillLevels.toString()};"add"===e.confirmType&&Object(s["h"])(t).then((function(r){"true"===r.code&&e.$message({type:"success",message:"新增成功"})})),"edit"===e.confirmType&&Object(s["b"])(t).then((function(r){"true"===r.code&&e.$message({type:"success",message:"更新成功"})}))}))}},beforeRouteEnter:function(e,r,t){"edit"===e.query.type&&(e.meta.title="编辑"),t()}},u=c,p=(t("fd37"),t("2877")),m=Object(p["a"])(u,o,l,!1,null,"a9c2a1e2",null);r["default"]=m.exports},"9bb4":function(e,r,t){"use strict";t.d(r,"c",(function(){return l})),t.d(r,"d",(function(){return a})),t.d(r,"h",(function(){return i})),t.d(r,"b",(function(){return n})),t.d(r,"a",(function(){return s})),t.d(r,"f",(function(){return c})),t.d(r,"e",(function(){return u})),t.d(r,"g",(function(){return p}));var o=t("b775");function l(e){return Object(o["a"])({url:"/service-car/select-page",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/service-car/select-like-page",method:"post",params:e})}function i(e){return Object(o["a"])({url:"/service-car/insert",method:"post",data:[e]})}function n(e){return Object(o["a"])({url:"/service-car/update",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/service-car/delete",method:"post",data:[e]})}function c(e){return Object(o["a"])({url:"/service-car/select-list",method:"get",params:e})}function u(e){return Object(o["a"])({url:"/service-car/select",method:"get",params:e})}function p(e){return Object(o["a"])({url:"/service-car/select-like-v2",method:"get",params:e})}},b866:function(e,r,t){},fd37:function(e,r,t){"use strict";t("b866")}}]);