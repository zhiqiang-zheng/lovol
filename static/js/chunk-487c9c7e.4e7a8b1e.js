(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-487c9c7e"],{4186:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"echarts-item"},[r("div",{ref:"sctterMap",staticClass:"chart"})])},n=[];r("a9e3"),r("4de4"),r("d3b7"),r("d81d"),r("b0c0"),r("4e82"),r("159b"),r("99af");function i(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(a)return e.apply(n,o),void(a=!1);clearTimeout(r),r=setTimeout((function(){e.apply(n,o)}),t)}}var o={data:function(){return{myChart:null,resizeHandler:null}},mounted:function(){var e=this;this.resizeHandler=i((function(){e.myChart&&e.myChart.resize()}),200),this.initResizeEvent()},beforeDestroy:function(){this.destroyResizeEvent(),this.myChart&&(this.myChart.dispose(),this.myChart.off("click"),this.myChart=null)},activated:function(){this.initResizeEvent()},deactivated:function(){this.destroyResizeEvent()},methods:{initResizeEvent:function(){window.addEventListener("resize",this.resizeHandler)},destroyResizeEvent:function(){window.removeEventListener("resize",this.resizeHandler)}}},s={mixins:[o],data:function(){return{geoJson:{features:[]},parentInfo:[{cityName:"全国",code:1e5}],visualMap:{type:"continuous",left:"-100",bottom:"-100",itemWidth:0,itemHeight:0,min:0,max:100,inRange:{color:["#FFFFFF","#71D494","#FFCA4D","#8EC2FB","#F89898","#B19AFB"]}},iconLocation:r("d02f"),locationData:[],showTip:!1}},mounted:function(){this.getGeoJson(1e5)},props:{echartsData:{type:Object},showColor:{type:Boolean,default:function(){return!0}},showIcon:{type:Boolean,default:function(){return!1}},page:{type:Boolean,default:function(){return!1}}},watch:{echartsData:{handler:function(e){var t=this;e.currentProvince.code&&this.$nextTick((function(){t.parentInfo[t.parentInfo.length-1].code!==Number(e.currentProvince.code)&&(t.parentInfo.push({cityName:e.currentProvince.cityName,code:Number(e.currentProvince.code)}),t.getGeoJson(Number(e.currentProvince.code)))}))},immediate:!0,deep:!0}},methods:{getGeoJson:function(e){var t=this;AMapUI.loadUI(["geo/DistrictExplorer"],(function(r){var a=new r;a.loadAreaNode(e,(function(r,a){if(!r){var n=a.getSubFeatures();if(n.length>0)t.geoJson.features=n;else if(0===n.length&&(t.geoJson.features=t.geoJson.features.filter((function(t){return t.properties.adcode===e})),0===t.geoJson.features.length))return;t.getMapData()}}))}))},getMapData:function(){var e=this.geoJson.features.map((function(e){return{name:e.properties.name,value:parseInt(100*Math.random()),cityCode:e.properties.adcode,level:e.properties.level}}));e=e.sort((function(e,t){return t.value-e.value})),this.initEcharts(e)},initEcharts:function(e){var t=e[e.length-1].value,r=e[0].value;1===e.length&&(t=0);var a=.95,n=["50%","50%"];1===this.parentInfo.length&&(a=1.25,n=["50%","68.5%"]),this.$echarts.registerMap("Map",this.geoJson),this.myChart=this.$echarts.init(this.$refs.sctterMap),this.visualMap.min=t,this.visualMap.max=r;var i=this.showColor?this.visualMap:null;this.showIcon&&(this.locationData=[{name:"",value:[116.41,40.19,250]}]),this.page&&this.showIcon&&(this.showTip=!0,this.locationData=[{name:"",value:[116.41,40.19,250],data:[{name:"服务车编号：",value:"HJ9867869955888"},{name:"服务车型号：",value:"宝马"},{name:"车辆位置：",value:"南山区"},{name:"服务数量：",value:"1239"},{name:"工作状态：",value:"是"},{name:"未来目标位置：",value:"深圳市南山区冰海大道1900号深圳市南山区冰海大道1900号"}]},{name:"",value:[116.31,39.96,250],data:[{name:"服务车编号：",value:"HJ9867869955888"},{name:"服务车型号：",value:"宝马"},{name:"车辆位置：",value:"海淀区"},{name:"服务数量：",value:"1239"},{name:"工作状态：",value:"是"},{name:"未来目标位置：",value:"深圳市南山区冰海大道1900号深圳市南山区冰海大道1900号"}]}]),this.myChart.setOption({tooltip:{show:this.showTip,trigger:"item",className:"custom-tooltip-box",formatter:function(e){var t="";return e.data.data.forEach((function(r){return t+='<div class="item"><span class="point">'.concat(e.marker," ").concat(r.name,"</span><span>").concat(r.value,"</span></div>")})),"<div class='custom-tooltip-style'>".concat(t,"</div>")}},visualMap:i,geo:{map:"Map",roam:!1,zoom:a,layoutSize:"100%",layoutCenter:n},series:[{name:"地图",type:"map",map:"Map",roam:!1,zoom:a,layoutSize:"100%",layoutCenter:n,label:{normal:{formatter:function(e){switch(e.name){case"内蒙古自治区":e.name="内蒙古";break;case"西藏自治区":e.name="西藏";break;case"新疆维吾尔自治区":e.name="新疆";break;case"宁夏回族自治区":e.name="宁夏";break;case"广西壮族自治区":e.name="广西";break;case"香港特别行政区":e.name="香港";break;case"澳门特别行政区":e.name="澳门";break;default:break}return e.name}},emphasis:{show:!0,color:"#234EA5"}},itemStyle:{normal:{areaColor:"#EEEEEE",borderColor:"#BCBCBC",borderWidth:1},emphasis:{areaColor:"#E5F39B"}},data:e},{name:"地标",type:"scatter",coordinateSystem:"geo",symbol:"image://".concat(this.iconLocation),symbolSize:20,itemStyle:{normal:{color:"#34C266"}},data:this.locationData}]})}}},c=s,u=(r("d2c7"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"53688ee2",null);t["a"]=l.exports},"4b45":function(e,t,r){"use strict";r("846b")},"4e82":function(e,t,r){"use strict";var a=r("23e7"),n=r("1c0b"),i=r("7b0b"),o=r("d039"),s=r("a640"),c=[],u=c.sort,l=o((function(){c.sort(void 0)})),d=o((function(){c.sort(null)})),f=s("sort"),h=l||!d||!f;a({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),n(e))}})},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var i,o;return n&&"function"==typeof(i=t.constructor)&&i!==r&&a(o=i.prototype)&&o!==r.prototype&&n(e,o),e}},7654:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"i",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"g",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return f}));var a=r("b775");function n(){return Object(a["a"])({url:"/service-providers/query",method:"get"})}function i(e){return Object(a["a"])({url:"/service-providers/pageQuery",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/service-providers/pageQuery",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/service-providers",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/service-providers",method:"put",data:e})}function u(){return Object(a["a"])({url:"/accessory-center/serviceNumOverview",method:"get"})}function l(e){return Object(a["a"])({url:"/service-providers/queryServiceProvidersInfo",method:"get",params:e})}function d(){return Object(a["a"])({url:"/service-providers/get-marketingDepartment",method:"get"})}function f(e){return Object(a["a"])({url:"/service-providers/queryDivide",method:"get",params:e})}},"7db0":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").find,i=r("44d2"),o=r("ae40"),s="find",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},"846b":function(e,t,r){},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),i=r("e8b5"),o=r("861d"),s=r("7b0b"),c=r("50c4"),u=r("8418"),l=r("65f0"),d=r("1dde"),f=r("b622"),h=r("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",b=h>=51||!n((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},C=!b||!g;a({target:"Array",proto:!0,forced:C},{concat:function(e){var t,r,a,n,i,o=s(this),d=l(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?o:arguments[t],y(i)){if(n=c(i.length),f+n>m)throw TypeError(p);for(r=0;r<n;r++,f++)r in i&&u(d,f,i[r])}else{if(f>=m)throw TypeError(p);u(d,f++,i)}return d.length=f,d}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),f=r("7c73"),h=r("241c").f,v=r("06cf").f,m=r("9bf2").f,p=r("58a8").trim,b="Number",g=n[b],y=g.prototype,C=c(f(y))==b,A=function(e){var t,r,a,n,i,o,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=p(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(i=u.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>n)return NaN;return parseInt(i,a)}return+u};if(i(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var E,N=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof N&&(C?d((function(){y.valueOf.call(r)})):c(r)!=b)?u(new g(A(t)),r,N):A(t)},w=a?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;w.length>I;I++)s(g,E=w[I])&&!s(N,E)&&m(N,E,v(g,E));N.prototype=y,y.constructor=N,o(n,b,N)}},d02f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAnBJREFUWEfN1j1oFEEUwPH/0yMoWKRIoSSggoWdERUUFXOdQoQIgoiCgoopLBRB1L2r3FMJBAQLFSNYKFoIGgxoEfC6aKWFhYVgCoMprrCLmNMnu/nAu9vdeTuXQLbdN29+O/Pm7Qgr5JEV4qA9iF7ugo6uuY/5XUOGa74flg+ifQXYewzkKLAPmEcsTh9BqqAvYGoUefzLCrNDNDgFlEC2GJNPx/ESPrLEuyF6sRPWPQMOWhImxIzDzHHXtmVDNNgIjOdYhRSrfoXZIjL0Pe1j0iF6eg10T4D0eq5E0zD9DFO70uomAxLcAxlcGsRCFh1BKueSciZDtLwN9NPSIhayyW7kxofm3CmQ0ktgYHkgjCHhYTckblJrfwCFZYLUYWZD8ylqXRENToA8sSPiLayD7Mwx5iRSefp/fBLkLsgFQ9IaSP/ifmt5B+gYsN49Vu8glUsOiLk+BpHwQcOkWjoDjLghrXWSsCKld0CfO9nf7cjNxpOl13th1Uf3WKpIWHStyBtbO9cBpDLauCJB9EN8boC8RcJDrhp5CHLWnaypbWvQPffntfwUWxtb0tacB+67IXHETyAq0OjpBzqN41rqKwFydRMUvhkTeobVNyO3J7O3Jnqr1oL1ceh7pLLH3VljSPkAaNVnGveYhCKHjDurll7P77s7tz3iFRIeSQrPuAZc6YGOCaDHPk9WpE7C7P60y5HjhnZtK6yOGpyhbWdyp+FPEbn1JS3KcGdtG+NERDg3JC5eb4wJYYf4YcyIfJB8mFyI/BAbJjfCD5KN8UL4Q5Ix3oj2II0YXH3C1RRtxzezYUZHO2oE6c3KhYje/wPie80jq1wZXQAAAABJRU5ErkJggg=="},d2c7:function(e,t,r){"use strict";r("dcd4")},dcd4:function(e,t,r){},f0f2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("el-form",{staticClass:"form",attrs:{inline:!0,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"省："}},[r("el-select",{attrs:{placeholder:"请选择省"},model:{value:e.selectedProvince,callback:function(t){e.selectedProvince=t},expression:"selectedProvince"}},[e._l(e.option,(function(t,a,n){return[n>0?r("el-option",{attrs:{label:t,value:a}}):e._e()]}))],2)],1),r("el-form-item",{attrs:{label:"服务商数量"}},[r("el-input",{attrs:{placeholder:"请选择服务商数量"},model:{value:e.serviceProvidersNumber,callback:function(t){e.serviceProvidersNumber=t},expression:"serviceProvidersNumber"}})],1),r("el-form-item",{staticClass:"p-l20"},[r("el-button",{staticClass:"btn",attrs:{type:"success"},on:{click:e.onQuery}},[e._v("选址")])],1)],1),e.showInfo?r("div",{staticClass:"table-map-container p-tb20"},[r("div",{staticClass:"left-inner"},[r("el-table",{staticClass:"table",staticStyle:{height:"auto"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),r("el-table-column",{attrs:{width:"100"}}),r("el-table-column",{attrs:{prop:"serviceProviderSite",label:"服务商位置","show-overflow-tooltip":""}})],1)],1),r("div",{staticClass:"right-inner"},[r("chinaMap",{ref:"chinaMap",attrs:{echartsData:e.echartsData,showColor:!1,showIcon:!0}})],1)]):r("div",{staticClass:"map-box"},[r("chinaMap",{attrs:{echartsData:e.echartsData,showColor:!1}})],1)],1)},n=[],i=(r("a9e3"),r("7db0"),r("d3b7"),r("b64b"),r("4186")),o=(r("7654"),{name:"serviceProviderSiteSelection",data:function(){return{showInfo:!1,selectedProvince:"",serviceProvidersNumber:"",option:this.commonData.province,tableData:[],echartsData:{currentProvince:{cityName:"",code:""}}}},created:function(){this.tableData=[{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"},{serviceProviderSite:"深圳市宝安区元朗街道147号"}]},components:{chinaMap:i["a"]},methods:{onQuery:function(){this.selectedProvince&&this.serviceProvidersNumber?(this.showInfo=!0,this.echartsData.currentProvince.cityName=this.findKey(this.commonData.province,Number(this.selectedProvince)),this.echartsData.currentProvince.code=this.selectedProvince+"0000",console.log("this.echartsData----------\x3e"),console.log(this.echartsData)):this.showInfo=!1},findKey:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return Object.keys(e).find((function(a){return r(e[a],t)}))}}}),s=o,c=(r("4b45"),r("2877")),u=Object(c["a"])(s,a,n,!1,null,"84b67fc0",null);t["default"]=u.exports}}]);